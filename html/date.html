<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        //  Date日期对象
        // var date = new Date();
        // console.log(date);
        // console.log(date.getFullYear());
        // console.log(date.getMonth());
        // console.log(date.getDate());
        // console.log('----');
        // console.log(date.getHours());
        // console.log(date.getMinutes());
        // console.log(date.getSeconds());
        // console.log(date.getDay());
        // var da = new Date();
        // console.log(da.valueOf());
        // console.log(da.getTime());
        // var da1 = +new Date();
        // console.log(da1);
        // H5新增
        // console.log(Date.now());


        // 格式化当前的时间  开始
        function nowTime() {
            let date = new Date();
            let year = date.getFullYear();
            let month = date.getMonth() + 1;
            month = month > 10 ? month : '0' + month;
            let day = date.getDate();
            day = day > 10 ? day : '0' + day;
            let hour = date.getHours();
            hour = hour > 10 ? hour : '0' + hour;
            let minutes = date.getMinutes();
            minutes = minutes > 10 ? minutes : '0' + minutes;
            let second = date.getSeconds();
            second = second > 10 ? second : '0' + second;
            let nowTime = year + '-' + month + '-' + day + ' ' + hour + '-' + minutes + '-' + second;
            return nowTime
        }
        console.log(nowTime());
        // 格式化当前的时间  结束

        // 倒计时开始
        function countDown(time) {
            var nowTime = +new Date();
            var inputTime = +new Date(time);
            var times = (inputTime - nowTime) / 1000;  //这个时计算倒计时的
            let d = parseInt(times / 60 / 60 / 24); //天
            d = d > 10 ? d : '0' + d;
            let h = parseInt(times / 60 / 60 % 24); //时
            h = h > 10 ? h : '0' + h;
            let m = parseInt(times / 60 % 60);      //分
            m = m > 10 ? m : '0' + m;
            let s = parseInt(times % 60);           //秒
            s = s > 10 ? s : '0' + s;
            return d + '天' + h + '时' + m + '分' + s + '秒'
        }
        console.log(countDown('2021-2-23 17:11:00'));
        // 倒计时结束

        // 计算当前的时间距离发布的时间 开始
        function countDown1(time) {
            var nowTime = +new Date();
            var inputTime = +new Date(time);
            var times = (nowTime - inputTime) / 1000; //这个是计算多少前的
            let d = parseInt(times / 60 / 60 / 24); //天       
            let h = parseInt(times / 60 / 60 % 24); //时         
            let m = parseInt(times / 60 % 60);      //分
            let s = parseInt(times % 60);           //秒
            if (d >= 1) {
                console.log(d + '天前');
            } else if (h >= 1) {
                console.log(h + '小时前');
            } else if (m >= 1) {
                console.log(m + '分钟前');
            } else {
                console.log(s + '秒前');
            }
        }
        // var time  = nowTime();
        console.log(countDown1('2021-1-2 16:08:00'));
        // 计算当前的时间距离发布的时间 结束
    </script>
</body>

</html>